// Twice feature showcase

// typed declarations, inference, null defaults
let s: string = "hello";
let c = 'A';
let f = 3.14;
let n: string; // typed declaration without initializer => null

print(s);
print(c);
print(f);
print(n);

print(typeof(s));
print(typeof(c));
print(typeof(f));
print(typeof(n));

print(int(true));
print(bool(0));
print(char(66));

// string concat and numeric coercion
let greeting = "Hello, " + "Twice!";
print(greeting);
print("x:" + 7);
print("x:" + 3.5);
print("x:" + 'A');

// mixed numeric math
let n1 = 1 + 2.5;
let n2 = 6 - 2.5;
let n3 = 3 * 2.0;
let n4 = 7 / 2.0;
print(n1);
print(n2);
print(n3);
print(n4);

// modulo and compound assignments
let mod_i = 7 % 4;
let mod_f = 7.5 % 2.0;
let mod_assign = 9;
mod_assign %= 4;
print(mod_i);
print(mod_f);
print(mod_assign);

let acc = 10;
acc += 2;
acc -= 1;
acc *= 3;
acc /= 11;
print(acc);

let i = 3;
i++;
print(i);
i--;
print(i);

// char arithmetic
let char_sum = 'A' + '1';
let char_next = 'A' + 1;
print(char_sum);
print(char_next);

// booleans and bitwise operators
print(true && false);
print(true || false);
print(true ^^ false);
print(5 & 3);
print(5 | 2);
print(5 ^ 1);
print(5 << 1);
print(5 >> 1);

// control flow
let score = 10;
if (score > 10) {
  print("big");
} elif (score == 10) {
  print("equal");
} else {
  print("small");
};

// function calls: before declaration, default args, named args, mixed args
print(add(5));

fn add(a: int, b: int = 2) int {
  return a + b;
}

print(add(3));
print(add(a = 3, b = 4));
print(add(3, b = 10));
